{
    "$schema": "http://json-schema.org/draft-04/schema#",
    "id": "otherProperties.json",
    "title": "Definitions: Other Properties.",
    "description": "Schemas in #/definitions detect or validate other keys, objects or constraints variously applicable to Annotations, Bodies and/or Targets (Section 3.3).",
    "definitions": {
        "createdValidIfPresent": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: created value",
            "description": "True when the object being tested (annotation, body or target) has no created or a single created of format date-time (Section 3.3.1)",
            "type": "object",
            "properties": {"created": {"oneOf": [
                {
                    "type": "string",
                    "format": "date-time"
                },
                {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 1,
                    "items": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            ]}}
        },
        
        "createdPropertyFound": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: created key with qualifying body/target classes",
            "description": "Supports implementation check of created (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Sections 3.2.1-6, 3.3)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["created"]},
                {"$ref": "#/definitions/createdValidIfPresent"}
            ]
        },
          
        "creatorValidIfPresent": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: creator value",
            "description": "True when the annotation, body or target has a single creator (Section 3.3.1)",
            "type": "object",
            "properties": {"creator": 
              {"oneOf": [
                { "$ref": "id.json#/definitions/stringUri" },
                { "type": "object" },
                {
                    "type": "array",
                    "minItems": 1,
                    "items": 
                    { "oneOf": [
                        { "$ref": "id.json#/definitions/stringUri" },
                        { "type": "object" }
                      ]
                    }
                }
             ]
           }
          }
        },
        
        "creatorPropertyFound": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: creator key with qualifying body/target classes",
            "description": "Supports implementation check of creator (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Section 3.3.1)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["creator"]},
                {"$ref": "#/definitions/creatorValidIfPresent"}
            ]
        },
        
        "generatorValidIfPresent": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: generator value",
            "description": "True when the annotation, body or target has a single generator (Section 3.3.1)",
            "type": "object",
            "properties": {"generator":  
              {"oneOf": [
                { "$ref": "id.json#/definitions/stringUri" },
                { "type": "object" },
                {
                    "type": "array",
                    "minItems": 1,
                    "items": 
                    { "oneOf": [
                        { "$ref": "id.json#/definitions/stringUri" },
                        { "type": "object" }
                      ]
                    }
                }
             ]
           }
          }
        },

        "generatorPropertyFound": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: generator key with qualifying body/target classes",
            "description": "Supports implementation check of generator (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Section 3.3.1)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["generator"]},
                {"$ref": "#/definitions/generatorValidIfPresent"}
            ]
        },
        
        "generatedValidIfPresent": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: generated value",
            "description": "True when the annotation, body or target has no generated or a single generated of format date-time (Section 3.3.1)",
            "type": "object",
            "properties": {"generated": {"oneOf": [
                {
                    "type": "string",
                    "format": "date-time"
                },
                {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 1,
                    "items": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            ]}}
        },
        
        "generatedPropertyFound": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: generated key with qualifying body/target classes",
            "description": "Supports implementation check of generated (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Sections 3.2.1-6, 3.3)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["generated"]},
                {"$ref": "#/definitions/generatedValidIfPresent"}
            ]
        },
        
        "modifiedValidIfPresent": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: modified value",
            "description": "True when the annotation, body or target has no modified or a single modified of format date-time (Section 3.3.1)",
            "type": "object",
            "properties": {"modified": {"oneOf": [
                {
                    "type": "string",
                    "format": "date-time"
                },
                {
                    "type": "array",
                    "minItems": 1,
                    "maxItems": 1,
                    "items": {
                        "type": "string",
                        "format": "date-time"
                    }
                }
            ]}}
        },
        
        "modifiedPropertyFound": {
            "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: modified key with qualifying body/target classes",
            "description": "Supports implementation check of modified (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Sections 3.2.1-6, 3.3)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["modified"]},
                {"$ref": "#/definitions/modifiedValidIfPresent"}
            ]
        },
        
        "audienceValidIfPresent":
        {
            
        },
        
        "audiencePropertyFound":
        {
            
        },
        
        "accessibilityValidIfPresent":
        {
            
        },
        
        "accessibilityPropertyFound":
        {
            
        },
        
        "rightsValidIfPresent":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: rights value",
            "description": "True when the annotation, body or target has 0 or more rights properties (Section 3.3.6)",
            "type": "object",
            "properties": {"rights":
              { "oneOf": [
                  { "$ref": "id.json#/definitions/stringUri" }, 
                  { "type": "array",
                    "items": { "$ref": "id.json#/definitions/stringUri" } }
                ]               
              }
            }
        },
        
        "rightsPropertyFound":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: rights key with qualifying annotation/body/target classes",
            "description": "Supports implementation check of rights (if/when) used on Annotation, External Web Resources, Specific Resources, Textual Body Resources (Sections 3.3.6)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["rights"]},
                {"$ref": "#/definitions/rightsValidIfPresent"}
            ]            
        },
        
        "canonicalValidIfPresent":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: canonical value",
            "description": "True when the annotation, body or target has 0 or 1 canonical properties (Section 3.3.7)",
            "type": "object",
            "properties": {"canonical":
                  { "$ref": "id.json#/definitions/stringUri" } 
              }
        },
        
        "canonicalPropertyFound":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: canonical key with qualifying annotation/body/target classes",
            "description": "Supports implementation check of canonical (if/when) used on Annotation, External Web Resources, Specific Resources, Textual Body Resources (Sections 3.3.7)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["canonical"]},
                {"$ref": "#/definitions/canonicalValidIfPresent"}
            ]            
        },

        "viaValidIfPresent":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: via value",
            "description": "True when the annotation, body or target has 0 or more via properties (Section 3.3.7)",
            "type": "object",
            "properties": {"via":
              { "oneOf": [
                  { "$ref": "id.json#/definitions/stringUri" }, 
                  { "type": "array",
                    "items": { "$ref": "id.json#/definitions/stringUri" } }
                ]               
              }
            }
        },
        
        "viaPropertyFound":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: via key with qualifying annotation/body/target classes",
            "description": "Supports implementation check of via (if/when) used on Annotation, External Web Resources, Specific Resources, Textual Body Resources (Sections 3.3.7)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"},
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["via"]},
                {"$ref": "#/definitions/viaValidIfPresent"}
            ]            
        },

        "motivationList":
       {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Definitions: list of motivation and purposes",
            "description": "List of motivations and purposes as defined in the model (Section 3.3.5).",
            "type": "string",
            "enum": ["assessing", "bookmarking", "classifying", "commenting", "describing", "editing", "highlighting", "identifying", "linking", "moderating", "questioning", "replying", "tagging" ]            
        },

        "purposeRecognizedIfPresent":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: purpose value",
            "description": "True when the body has 0 or more purpose property values (Section 3.3.5)",
            "type": "object",
            "properties": {"purpose":
              { "oneOf": [
                  { "$ref": "#/definitions/motivationList" }, 
                  { "type": "array",
                    "items": { "$ref": "#/definitions/motivationList" } }
                ]               
              }
            }
        },
        
        "purposePropertyFound":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: purpose key with qualifying body classes",
            "description": "Supports implementation check of purpose (if/when) used on External Web Resources, Specific Resources, Textual Body Resources (Sections 3.3.5)",
            "oneOf": [
                {"$ref": "specificResource.json#/definitions/specificeResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/externalWebResourceDetected"},
                {"$ref": "bodyTarget.json#/definitions/textualBodyFound"}
            ],
            "allOf": [
                {"required": ["purpose"]},
                {"$ref": "#/definitions/purposeRecognizedIfPresent"}
            ]            
        },
        
        "motivationRecognizedIfPresent":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Validation: motivation value",
            "description": "True when the annotation has 0 or more motivation property values (Section 3.3.5)",
            "type": "object",
            "properties": {"motivation":
              { "oneOf": [
                  { "$ref": "#/definitions/motivationList" }, 
                  { "type": "array",
                    "items": { "$ref": "#/definitions/motivationList" } }
                ]               
              }
            }
        },
        
        "motivationPropertyFound":
        {   "$schema": "http://json-schema.org/draft-04/schema#",
            "title": "Collate: via motivation with qualifying annotation class",
            "description": "Supports implementation check of via (if/when) used on Annotation (Sections 3.3.5)",
            "oneOf": [
                {"$ref": "annotations.json#/definitions/annotationTypeValueFound"}
            ],
            "allOf": [
                {"required": ["motivation"]},
                {"$ref": "#/definitions/motivationRecognizedIfPresent"}
            ]            
        },
        
        "singleMotivationPropertyFound":
        {
            
        }
     }
}