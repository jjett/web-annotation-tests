{
"$schema": "http://json-schema.org/draft-04/schema#",
  "title": "Check if TextualBody feature is implemented",
  "description": "The body of an Annotation may be a TextualBody (Section 3.2.4)",
  "assertionType": "may",
  "expectedResult": "valid",
  "errorMessage": "Informational: No TextualBody was detected within the Annotation .",
  "type": "object",
      "properties": {"body":
           {"oneOf": [
              { "type" : [ "object" ], 
                "$ref": "#/definitions/textualBody" },
              { "type" : ["array"], 
                "$ref": "#/definitions/textualBodyArray" }
           ]      
      } },  
  "definitions": {
        "textualBody" : 
           { "type": "object", 
             "properties": {
                 "value": {"type": "string"}
             },
             "required": [ "value" ]               
           },
        "textualBodyArray": 
           { "not": 
              { "items": 
                 { "not": 
                    { "$ref": "#/definitions/textualBody" } } 
               }
           }
    }
}
